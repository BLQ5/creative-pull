project_path: /web/_project.yaml
book_path: /web/updates/_book.yaml
description: Chromium Chronicle, ежемесячная серия, предназначенная специально для разработчиков Chromium - разработчиков, которые создают браузер.

{# wf_updated_on: 2019-08-28 #} {# wf_published_on: 2019-08-27 #} {# wf_tags:
chromium-chronicle #} {# wf_featured_image:
/web/updates/images/generic/cr-chron.jpg #} {# wf_featured_snippet: Весь код
содержит баги. Процесс браузера Chrome не имеет песочницы, то есть эти ошибки
могут дать вредоносному коду полный доступ ко всему устройству. Этот эпизод
объясняет преимущества и недостатки кодинга без песочницы. #} {#
wf_blink_components: N/A #}

# Хроника Chromium: кодинг вне песочницы {: .page-title }

**Эпизод 5:** Август 2019

*Аде в Маунтин-Вью*

Хром раскололся на процессы. Некоторые из них находятся в «песочнице», что
означает, что они имеют ограниченный доступ к системе и учетным записям
пользователей. В изолированном процессе ошибки, позволяющие запускать
вредоносный код, гораздо менее серьезны.

**Процесс браузера не имеет изолированной программной среды**, поэтому ошибка
может дать вредоносному коду полный доступ ко всему устройству. Что делать
по-другому? А как обстоят дела с другими процессами?

![sandbox diagram](/web/updates/images/2019/08/ch-chron5/sandbox-diagram.png)

**Весь код имеет ошибки.** В процессе браузера эти ошибки позволяют вредоносному
коду устанавливать программы, красть пользовательские данные, настраивать
параметры компьютера, получать доступ к содержимому всех вкладок браузера,
данных для входа и т. д.

**В других процессах доступ к ОС имеет ограничения,** специфичные для платформы.
Для получения дополнительной информации см. [Руководство по внедрению
песочницы](https://chromium.googlesource.com/chromium/src/+/master/docs/design/sandbox.md)
Chrome.

Обязательно избегайте следующих распространенных ошибок: {: .compare-worse }

![rule of two](/web/updates/images/2019/08/ch-chron5/rule-of-two.jpg) {:
.attempt-left }

- **Не анализируйте и не интерпретируйте ненадежные данные с помощью C ++ в
процессе браузера.**
- Не доверяйте источнику, который представляет рендерер. RenderProcessHost
браузера может быть использован для безопасного получения текущего источника.

<div class="clearfix"></div>

Вместо этого используйте следующие рекомендации: {: .compare-better }

- Будьте супер параноиком, если ваш код находится в процессе браузера.
- Проверьте все IPC от других процессов. Предполагайте, что все другие процессы
уже скомпрометированы и обманывают вас.
- Выполняйте свою обработку в процессе рендеринга или утилитарном процессе или в
каком-либо другом изолированном процессе. В идеале также используйте безопасный
для памяти язык, такой как JavaScript (устраняет> 50% ошибок безопасности).

В течение многих лет мы запускали сетевые стеки (например, HTTP, DNS, QUIC) в
процессе браузера, что приводило к некоторым [критическим
уязвимостям](https://bugs.chromium.org/p/chromium/issues/list?q=type%3Dbug-security%20component%3AInternals%3ENetwork%20status%3Afixed%2Cverified%20security_severity%3Dcritical&can=1).
На некоторых платформах сеть теперь имеет свой собственный процесс с появлением
песочницы.

## Дополнительные ресурсы

- [Chromium Правило
Двух](https://chromium.googlesource.com/chromium/src/+/master/docs/security/rule-of-2.md):
не более двух из небезопасных данных, небезопасного кода и небезопасного
процесса.
- [Проверка данных
IPC](https://chromium.googlesource.com/chromium/src/+/HEAD/docs/security/mojo.md#Validate-privilege_presuming-data-received-over-IPC):
руководство о том, как убедиться, чтобы IPC из процесса рендеринга не были
полными выдумок и искажений.

{% include "web/_shared/helpful.html" %}

{% include "web/_shared/rss-widget-updates.html" %}
